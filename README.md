**Архитектурные изменения**
1. Принцип единственной ответственности (SRP)
Разделена монолитная логика на отдельные классы:

OrderProcessor - обработка заказов

OrderDetails - хранение данных заказа

IProductRepository и IOrderRepository - абстракции для работы с данными

ProductRepository и OrderRepository - конкретные реализации

2. Использование типов предметной области
Вместо примитивных типов созданы специализированные структуры:

OrderId - идентификатор заказа

CustomerId - идентификатор клиента

ProductId - идентификатор продукта

CustomerName - имя клиента с валидацией

DeliveryAddress - адрес доставки с валидацией

3. Обработка ошибок
Создано пользовательское исключение OrderProcessingException

Устранено использование строковых статусов

Исключения содержат контекстную информацию об ошибках

4. Инкапсуляция и безопасность
Все поля классов сделаны приватными

Используются свойства только для чтения (readonly)

Валидация данных выполняется в конструкторах

5. Устранение дублирования кода
Валидация вынесена в отдельные методы

Удалены вложенные циклы (проверка дубликатов через HashSet)

Логика вычислений изолирована в отдельных методах



**Структура проекта**

Основные классы:
OrderProcessor - основной класс для обработки заказов

ProcessOrder(OrderDetails orderDetails) - обработка заказа

GetOrderInformation(OrderId orderId) - получение информации о заказе

OrderDetails - контейнер для данных заказа

Автоматическая валидация при создании

Проверка на дубликаты продуктов

Value Objects (структуры):

OrderId, CustomerId, ProductId - идентификаторы

CustomerName, DeliveryAddress - значения с валидацией

Репозитории:

IProductRepository - получение цен на продукты

IOrderRepository - сохранение и получение заказов

OrderProcessorFactory - фабрика для создания OrderProcessor
